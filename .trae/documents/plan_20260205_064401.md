I will refactor the application to ensure that all public-facing pages (`/blog`, `/locations`, `/tours`, Header, Footer) fetch their data on the server during the build or request time (SSR/SSG), rather than on the client side. This will improve SEO and initial load performance. The `/manage` pages will remain as they are.

### Plan

1.  **Refactor `/locations` Page**:
    *   Modify `src/app/locations/page.tsx` (Server Component) to directly fetch the list of locations using `getLocations()` from `@/lib/db/sqlite`.
    *   Update `LocationsClient.tsx` to accept `initialLocations` as a prop instead of fetching them on mount. It will still handle client-side searching/filtering using this initial data.

2.  **Refactor `/blog` Page**:
    *   Modify `src/app/blog/page.tsx` (Server Component) to fetch the initial list of posts using `getPosts()` from `@/lib/db/sqlite`.
    *   Update `BlogContent.tsx` to accept `initialPosts`, `initialTotalCount`, etc., as props. It will use these for the initial render and only fetch from the API when the user interacts (pagination/filtering).

3.  **Refactor Header & Footer**:
    *   **Header**: Modify `src/components/layout/HeaderV3.tsx` to accept navigation data and site profile as props.
    *   **Footer**: Modify `src/components/layout/Footer.tsx` (or `ConditionalFooter.tsx`) to accept site profile data as props.
    *   **Root Layout**: In `src/app/layout.tsx`, fetch the global data (Navigation, Site Profile) on the server and pass it down to `Header` and `ConditionalFooter`.

4.  **Refactor Homepage**:
    *   Modify `src/app/page.tsx` to fetch data for `FeaturedTours`, `RecentBlogs`, and `FavoriteDestinations` on the server.
    *   Update these components to accept data as props instead of fetching internally.

### Verification
*   I will verify that the pages render with content immediately (view source) without needing a second client-side fetch.
*   I will ensure that client-side interactivity (search, filtering, mobile menu) still works correctly.
